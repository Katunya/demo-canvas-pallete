!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);o(1);var n=[["#00BCD4","#FFEB3B","#FFEB3B","#00BCD4"],["#FFEB3B","#FFC107","#FFC107","#FFEB3B"],["#FFEB3B","#FFC107","#FFC107","#FFEB3B"],["#00BCD4","#FFEB3B","#FFEB3B","#00BCD4"]];function r(e,t){for(var o=document.getElementById("canvas"),n=o.getContext("2d"),r=0;r<t.length;r+=1)for(var c=0;c<t[r].length;c+=1)n.fillStyle=t[r][c],n.fillRect(c*(o.width/e),r*(o.width/e),o.width/e,o.width/e)}function c(){return window.getComputedStyle(document.getElementById("current_color")).getPropertyValue("background-color")}function l(e,t,o){Array.from(e)[t][o]=c()}window.onload=function(){document.getElementById("current_color").style.background=localStorage.getItem("current_color")?localStorage.getItem("current_color"):"#fff",document.getElementById("prev_color").style.background=localStorage.getItem("prev_color")?localStorage.getItem("prev_color"):"#fff";var e=localStorage.getItem("canvas")?JSON.parse(localStorage.getItem("canvas")):n;r(4,e);var t,o,a=document.getElementById("canvas");a.addEventListener("mousedown",(function(n){switch(t=Math.floor(n.offsetY/128),o=Math.floor(n.offsetX/128),document.getElementsByClassName("item_active")[0].children[1].innerHTML){case"Pencil":l(e,t,o),r(4,e);break;case"Choose color":!function(e,t){document.getElementById("prev_color").style.background=c(),localStorage.setItem("prev_color",c()),document.getElementById("current_color").style.background=t[Math.floor(e.offsetY/128)][Math.floor(e.offsetX/128)],localStorage.setItem("current_color",c())}(n,e);break;case"Paint bucket":!function e(t,o,n,r,c){r>=0&&r<t.length&&c>=0&&c<t.length&&t[r][c]===n&&t[r][c]!==o&&(t[r][c]=o,e(t,o,n,r+1,c),e(t,o,n,r-1,c),e(t,o,n,r,c+1),e(t,o,n,r,c-1))}(e,c(),e[t][o],t,o),r(4,e)}localStorage.setItem("canvas",JSON.stringify(e))})),a.addEventListener("mousemove",(function(n){1===n.which&&"Pencil"===document.getElementsByClassName("item_active")[0].children[1].innerHTML&&(!function(e,t,o,n,r){for(var c=Math.abs(n-t),a=Math.abs(r-o),s=t<n?1:-1,i=o<r?1:-1,u=c-a;l(e,t,o),t!==n||o!==r;){var m=2*u;m>-a&&(u-=a,t+=s),m<c&&(u+=c,o+=i)}}(e,t,o,Math.floor(n.offsetY/128),Math.floor(n.offsetX/128)),r(4,e),localStorage.setItem("canvas",JSON.stringify(e)))}))},Array.from(document.getElementsByClassName("tools-block__tools_item")).forEach((function(e){e.addEventListener("click",(function(){document.getElementsByClassName("item_active")[0].classList.remove("item_active"),e.classList.add("item_active")}))})),Array.from(document.getElementsByClassName("change")).forEach((function(e){e.addEventListener("click",(function(){"prev_color"!==e.children[0].id?(document.getElementById("prev_color").style.background=c(),localStorage.setItem("prev_color",c()),document.getElementById("current_color").style.background=window.getComputedStyle(e.children[0],null).getPropertyValue("background-color"),localStorage.setItem("current_color",c())):document.getElementById("current_color").style.background=window.getComputedStyle(e.children[0],null).getPropertyValue("background-color")}))})),document.getElementById("color_input").onchange=function(e){document.getElementById("prev_color").style.background=c(),localStorage.setItem("prev_color",c()),document.getElementById("current_color").style.background=e.currentTarget.value,localStorage.setItem("current_color",c())},document.addEventListener("keydown",(function(e){switch(e.key){case"b":document.getElementsByClassName("item_active")[0].classList.remove("item_active"),document.getElementsByClassName("tools-block__tools_item")[0].classList.add("item_active");break;case"p":document.getElementsByClassName("item_active")[0].classList.remove("item_active"),document.getElementsByClassName("tools-block__tools_item")[2].classList.add("item_active");break;case"c":document.getElementsByClassName("item_active")[0].classList.remove("item_active"),document.getElementsByClassName("tools-block__tools_item")[1].classList.add("item_active")}}))},function(e,t){}]);